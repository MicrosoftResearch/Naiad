<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DfsBlockWorker(TItem, TOutput) Constructor </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="DfsBlockWorker%3CTItem%2C TOutput%3E class, constructor" /><meta name="System.Keywords" content="DfsBlockWorker(Of TItem%2C TOutput) class, constructor" /><meta name="System.Keywords" content="DfsBlockWorker%3CTItem%2C TOutput%3E.DfsBlockWorker constructor" /><meta name="System.Keywords" content="DfsBlockWorker(Of TItem%2C TOutput).DfsBlockWorker constructor" /><meta name="Microsoft.Help.F1" content="Microsoft.Research.Naiad.Frameworks.Storage.Dfs.DfsBlockWorker`2.#ctor" /><meta name="Microsoft.Help.F1" content="Microsoft.Research.Naiad.Frameworks.Storage.Dfs.DfsBlockWorker`2.DfsBlockWorker" /><meta name="Microsoft.Help.Id" content="M:Microsoft.Research.Naiad.Frameworks.Storage.Dfs.DfsBlockWorker`2.#ctor(System.Int32,System.Action{`0,System.IO.Stream},System.Func{`0,System.IO.Stream,System.Collections.Generic.IEnumerable{System.ArraySegment{`1}}},Microsoft.Research.Peloponnese.Shared.HdfsClientBase)" /><meta name="Description" content="create a worker to read dfs files broken into blocks" /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Microsoft.Research.Naiad.Frameworks.Storage.Dfs" /><meta name="file" content="M_Microsoft_Research_Naiad_Frameworks_Storage_Dfs_DfsBlockWorker_2__ctor" /><meta name="guid" content="M_Microsoft_Research_Naiad_Frameworks_Storage_Dfs_DfsBlockWorker_2__ctor" /></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdLogoColumn"><img src="../icons/Help.png" /></td><td class="OH_tdTitleColumn">DfsBlockWorker<span id="LSTBCFC992E_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_0?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><span class="typeparameter">TItem</span>, <span class="typeparameter">TOutput</span><span id="LSTBCFC992E_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_1?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script> Constructor </td><td class="OH_tdRunningTitleColumn">Naiad Help</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p><div class="summary">
            create a worker to read dfs files broken into blocks
            </div><p> </p><strong>Namespace:</strong> <a href="N_Microsoft_Research_Naiad_Frameworks_Storage_Dfs.htm">Microsoft.Research.Naiad.Frameworks.Storage.Dfs</a><br /><strong>Assembly:</strong> Microsoft.Research.Naiad.Storage (in Microsoft.Research.Naiad.Storage.dll) Version: 0.5.0.0 (0.5.0.0)<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID0EACA_tabimgleft"> </div><div id="ID0EACA_tab1" class="OH_CodeSnippetContainerTabSolo">C#</div><div class="OH_CodeSnippetContainerTabRightActive" id="ID0EACA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="identifier">DfsBlockWorker</span>(
	<span class="identifier">int</span> <span class="parameter">syncRequestLength</span>,
	<span class="identifier">Action</span>&lt;TItem, <span class="identifier">Stream</span>&gt; <span class="parameter">syncToNextRecord</span>,
	<span class="identifier">Func</span>&lt;TItem, <span class="identifier">Stream</span>, <span class="identifier">IEnumerable</span>&lt;<span class="identifier">ArraySegment</span>&lt;TOutput&gt;&gt;&gt; <span class="parameter">deserialize</span>,
	<span class="identifier">HdfsClientBase</span> <span class="parameter">client</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">syncRequestLength</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/td2s409d" target="_blank">System<span id="LSTBCFC992E_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Int32</a><br />size of each dfs request when seeking past the end of the block for the start of the
            next record. If records are expected to be small this should also be small, to avoid prefetching and buffering a lot of the
            next block's data</dd><dt><span class="parameter">syncToNextRecord</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/bb549311" target="_blank">System<span id="LSTBCFC992E_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Action</a><span id="LSTBCFC992E_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_4?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="T_Microsoft_Research_Naiad_Frameworks_Storage_Dfs_DfsBlockWorker_2.htm"><span class="typeparameter">TItem</span></a>, <a href="http://msdn2.microsoft.com/en-us/library/8f86tw9e" target="_blank">Stream</a><span id="LSTBCFC992E_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_5?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />action to sync to the start of the next record. The first argument is the block item
            being read, which may contain metadata about sync markers. The second argument is the stream to scan.</dd><dt><span class="parameter">deserialize</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/bb534647" target="_blank">System<span id="LSTBCFC992E_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Func</a><span id="LSTBCFC992E_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_7?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="T_Microsoft_Research_Naiad_Frameworks_Storage_Dfs_DfsBlockWorker_2.htm"><span class="typeparameter">TItem</span></a>, <a href="http://msdn2.microsoft.com/en-us/library/8f86tw9e" target="_blank">Stream</a>, <a href="http://msdn2.microsoft.com/en-us/library/9eekhta0" target="_blank">IEnumerable</a><span id="LSTBCFC992E_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_8?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="http://msdn2.microsoft.com/en-us/library/1hsbd92d" target="_blank">ArraySegment</a><span id="LSTBCFC992E_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_9?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="T_Microsoft_Research_Naiad_Frameworks_Storage_Dfs_DfsBlockWorker_2.htm"><span class="typeparameter">TOutput</span></a><span id="LSTBCFC992E_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_10?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><span id="LSTBCFC992E_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_11?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><span id="LSTBCFC992E_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_12?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />function to deserialize records in a stream</dd><dt><span class="parameter">client</span></dt><dd>Type: <span class="nolink">HdfsClientBase</span><br />client used to read hdfs data</dd></dl><div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Microsoft_Research_Naiad_Frameworks_Storage_Dfs_DfsBlockWorker_2.htm">DfsBlockWorker<span id="LSTBCFC992E_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_13?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>TItem, TOutput<span id="LSTBCFC992E_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBCFC992E_14?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script> Class</a></div><div class="seeAlsoStyle"><a href="N_Microsoft_Research_Naiad_Frameworks_Storage_Dfs.htm">Microsoft.Research.Naiad.Frameworks.Storage.Dfs Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"><div class="OH_feedbacklink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:naiadquestions%40microsoft.com?Subject=Naiad Help">naiadquestions@microsoft.com</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script> </div></body></html>